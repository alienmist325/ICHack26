# ============================================================================
# RIGHTMOVE SCRAPER CONFIGURATION
# ============================================================================

# Apify API Key - Required for property scraping
# Get your API key from: https://console.apify.com/account/settings
# Format: apify_api_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
APIFY_API_KEY=your_apify_api_key_here

# ============================================================================
# ROUTING SERVICE CONFIGURATION (GraphHopper)
# ============================================================================

# Routing Provider - Use GraphHopper for cloud-based routing
# Options: graphhopper (default), mapbox
ROUTING_PROVIDER=graphhopper

# GraphHopper API Key - REQUIRED for routing calculations
# Get a free API key from: https://www.graphhopper.com/dashboard/sign-up
# Free tier includes ~1,000 requests per day
# Format: your-graphhopper-api-key
ROUTING_API_KEY=your_graphhopper_api_key_here

# GraphHopper Base URL - Cloud API endpoint
# Default: https://graphhopper.com/api/1 (cloud API)
# For self-hosted: Use your server URL (e.g., http://localhost:8989)
GRAPHHOPPER_BASE_URL=https://graphhopper.com/api/1

# Routing request timeout in seconds (default: 30)
# Increase if API responses are slow, decrease for faster timeouts
ROUTING_TIMEOUT_SECONDS=30

# ============================================================================
# BLAND AI PROPERTY VERIFICATION CONFIGURATION
# ============================================================================

# Bland AI API Key - Required for property verification calls
# Get from: https://app.bland.ai/dashboard/settings
# Format: your-bland-ai-api-key
BLAND_AI_API_KEY=your_bland_ai_api_key_here

# Bland AI timeout in seconds for call completion (default: 120)
# This is the maximum time to wait for an agent to answer and complete the verification call
# Increase for slower networks, decrease for faster timeouts
BLAND_AI_TIMEOUT_SECONDS=120

# ============================================================================
# BLAND AI MOCK TESTING CONFIGURATION
# ============================================================================
# WARNING: Mock testing routes calls to your personal phone number!
# Only enable for testing - DISABLED BY DEFAULT
# When enabled, all verification calls will be routed to BLAND_AI_MOCK_PHONE_NUMBER

# Enable mock Bland AI client (no real API calls, simulated locally)
# Set to true ONLY when testing - must be explicitly enabled
# Default: false (disabled)
BLAND_AI_MOCK_MODE=false

# Your phone number for mock testing
# When BLAND_AI_MOCK_MODE=true, verification calls will be routed to this number
# Instead of calling agent phones from the database
# Format: +44 followed by your number (e.g., +44 7580 574377)
BLAND_AI_MOCK_PHONE_NUMBER=+44 7580 574377

# ============================================================================
# OPTIONAL: MAPBOX CONFIGURATION (Alternative to GraphHopper)
# ============================================================================

# If you prefer Mapbox for routing instead of GraphHopper:
# 1. Set ROUTING_PROVIDER=mapbox above
# 2. Get an API key from: https://account.mapbox.com/auth/signin/
# 3. Add it to ROUTING_API_KEY above

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================
#
# 1. APIFY SETUP:
#    - Sign up at https://apify.com
#    - Go to Settings → API Tokens
#    - Copy your API key and paste in APIFY_API_KEY
#
# 2. GRAPHHOPPER ROUTING SETUP (RECOMMENDED):
#    - Sign up at https://www.graphhopper.com/dashboard/sign-up
#    - Create a new API key in your dashboard
#    - Copy the API key and paste in ROUTING_API_KEY
#    - Free tier: ~1,000 requests per day (sufficient for development)
#    - Optional: Self-host GraphHopper for unlimited requests
#
# 3. BLAND AI VERIFICATION SETUP:
#    - Sign up at https://bland.ai
#    - Go to Settings → API Keys
#    - Copy your API key and paste in BLAND_AI_API_KEY
#    - The verification service will:
#      * Make automated calls to estate agents
#      * Analyze transcripts for availability status
#      * Update property records with verification results
#    - Timeout can be adjusted based on typical call duration
#
# 4. BLAND AI MOCK TESTING (FOR DEVELOPMENT ONLY):
#    - Set BLAND_AI_MOCK_MODE=true to enable mock testing
#    - Calls will be routed to your personal phone (+44 7580 574377)
#    - You can interact with the AI agent to test functionality
#    - NO real Bland AI API calls will be made (simulated locally)
#    - Useful for testing without consuming API credits
#    - Remember to set BLAND_AI_MOCK_MODE=false after testing
#
# 5. TESTING:
#    - Ensure all required variables are set (see Required section below)
#    - Run: python backend/app/database.py (to initialize DB)
#    - Run: cd backend && uv run fastapi dev app/main.py
#    - Test: curl http://localhost:8000/health
#
# 6. PROPERTY VERIFICATION:
#    - Trigger verification: POST /properties/{property_id}/verify
#    - Returns immediately with HTTP 202 Accepted
#    - Verification runs in background
#    - Check property record for verification_status, last_verified_at, verification_notes
#
# ============================================================================
# REQUIRED vs OPTIONAL
# ============================================================================
#
# REQUIRED (Must be set for application to function):
#   - APIFY_API_KEY
#   - ROUTING_API_KEY (for routing endpoints)
#   - BLAND_AI_API_KEY (for verification endpoints with real calls)
#
# OPTIONAL (Has sensible defaults):
#   - ROUTING_PROVIDER (default: graphhopper)
#   - GRAPHHOPPER_BASE_URL (default: https://graphhopper.com/api/1)
#   - ROUTING_TIMEOUT_SECONDS (default: 30)
#   - BLAND_AI_TIMEOUT_SECONDS (default: 120)
#   - BLAND_AI_MOCK_MODE (default: false - DISABLED)
#   - BLAND_AI_MOCK_PHONE_NUMBER (default: +44 7580 574377)
#
# ============================================================================
# USEFUL LINKS
# ============================================================================
#
# Apify Dashboard: https://console.apify.com
# GraphHopper Dashboard: https://www.graphhopper.com/dashboard/
# Bland AI Dashboard: https://app.bland.ai/dashboard
# Project Documentation: See QUICKSTART.md, ROUTING_SETUP.md, etc.
#
